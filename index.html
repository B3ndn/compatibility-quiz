<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Compatibility Quiz</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fontsource/charter@4.5.2/index.min.css">
    <style>
        body {
            font-family: 'Charter', serif;
            background-image: url('https://rootsofprogress.org/u/2024/06/RPI_Imagery_everyoneandnow_1939_New_York_Worlds_Fair_in_a_sunny_light_envir_fbdee22f-b308-405f-a714-b94e2c4b1404.png');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
        }
        .glass {
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(8px);
            border-radius: 1rem;
        }
        .slider {
            width: 100%;
            height: 8px;
            margin: 20px 0;
        }
        .hidden {
            display: none;
        }
        .option-button {
            transition: all 0.2s;
        }
        .option-button:hover {
            transform: translateY(-2px);
        }
    </style>
</head>
<body class="min-h-screen py-12">
    <div class="max-w-2xl mx-auto px-4">
        <div class="glass p-8">
            <!-- Start Screen -->
            <div id="start-screen">
                <h1 class="text-4xl font-bold text-center mb-6">How compatible are we?</h1>
                <p class="text-gray-600 text-center mb-8 text-lg">
                    Let's explore our philosophical alignment.
                </p>
                <button onclick="startQuiz()" class="w-full bg-blue-500 text-white py-3 px-6 rounded-lg hover:bg-blue-600">
                    Begin
                </button>
            </div>

            <!-- Question Screen -->
            <div id="question-screen" class="hidden">
                <div class="w-full bg-gray-200 rounded-full h-2 mb-4">
                    <div id="progress-bar" class="bg-blue-500 rounded-full h-2 transition-all duration-300" style="width: 0%"></div>
                </div>
                
                <h2 id="question-text" class="text-xl font-semibold mb-6"></h2>
                
                <!-- Multiple Choice Container -->
                <div id="multiple-choice" class="space-y-3"></div>
                
                <!-- Slider Container -->
                <div id="slider-container" class="hidden">
                    <input type="range" id="slider" class="slider" min="0" max="100" value="50">
                    <div class="flex justify-between text-sm text-gray-600">
                        <span>Strongly Disagree</span>
                        <span id="slider-value">50%</span>
                        <span>Strongly Agree</span>
                    </div>
                    <button onclick="submitSlider()" class="mt-4 w-full bg-blue-500 text-white py-2 px-6 rounded-lg hover:bg-blue-600">
                        Next
                    </button>
                </div>
            </div>

            <!-- Results Screen -->
            <div id="results-screen" class="hidden"></div>
        </div>
    </div>

<script>
const questions = [
    {
        text: "We should attempt to quantify the sacred",
        type: "choice",
        options: [
            { text: "Yes", score: 10 },
            { text: "No", score: 0 }
        ]
    },
    {
        text: "\"Any sufficiently advanced technology is indistinguishable from magic.\" - Arthur C. Clarke.\n\nHow much does this quote resonate with you?",
        type: "slider"
    },
    {
        text: "Imagine you discover a machine that can \"tweak\" people’s moral compass to make them more compassionate, but it’s irreversible. Would you use it, knowing it applies to everyone?",
        type: "choice",
        options: [
            { text: "Yes, compassion should be universal.", score: 10 },
            { text: "No, people should make that choice themselves.", score: 0 },
            { text: "I’d use it, but only if I could fine-tune it to prevent unintended consequences.", score: 7 },
            { text: "I’d rather test it out on myself first—this feels dangerous.", score: 5 }
        ]
    },
    {
        text: "You discover a mysterious button in a dusty library. If you press it, everyone in the world gets a random, but harmless, change to their personality. Do you press it?",
        type: "choice",
        options: [
            { text: "Yes! Chaos can be enlightening.", score: 8 },
            { text: "No, I’d rather people stay as they are.", score: 2 },
            { text: "Maybe… I’d need to study the button for a while.", score: 5 },
            { text: "I’d press it, but only if it came with an \"undo\" option.", score: 6 }
        ]
    },
    {
        text: "A glowing door opens in the air in front of you. It's visibly crackling around the edges and shrinking slowly but visibly, so you don't have much time to decide. You have been told nothing about this. Do you go through the portal? (credit: https://x.com/ESYudkowsky/status/1833675921238442047)",
        type: "choice",
        options: [
            { text: "Yes", score: 10 },
            { text: "No", score: 0 }
        ]
    },
    {
        text: "If you had freedom over basic biological proclivities (e.g., hunger), would you shut them off?",
        type: "choice",
        options: [
            { text: "Yes", score: 10 },
            { text: "No", score: 0 },
            { text: "Depends on the situation (e.g., maybe I'd still want hunger before having a social meal, but not at other times)", score: 5 }
        ]
    },
    {
        text: "Imagine you find a technology that lets you \"clone\" your consciousness to keep working on your goals after you’re gone. Do you use it?",
        type: "choice",
        options: [
            { text: "Yes", score: 10 },
            { text: "No", score: 0 },
            { text: "Only if I’m confident the \"clone\" wouldn’t stray from my values.", score: 7 }
        ]
    },
    {
        text: "If you could press a button to remove all illusions about yourself, revealing every unconscious bias, fear, or motive, would you press it?",
        type: "choice",
        options: [
            { text: "Yes, self-knowledge is worth facing any discomfort it brings.", score: 10 },
            { text: "No, some illusions might be crucial for a functional, content self.", score: 0 },
            { text: "I’d press it, but I’d want a slow reveal to process everything gradually.", score: 7 },
            { text: "I’d hesitate; complete self-transparency sounds destabilizing.", score: 5 }
        ]
    },
    {
        text: "You’re given the opportunity to understand all that is true about love—its evolutionary roots, its limits, and the full mechanics of attraction. Do you want to know, even if it might change your experience of it?",
        type: "choice",
        options: [
            { text: "Yes, understanding love would be worth any change in perception.", score: 10 },
            { text: "No, mystery is part of what makes love special.", score: 0 },
            { text: "I’d want to know some aspects, but leave the experience itself untouched.", score: 5 },
            { text: "I’d take the knowledge but use it sparingly.", score: 7 }
        ]
    },
    {
        text: "Imagine you’re given a chance to erase one aspect of your personality, something you find challenging or harmful. Do you go through with it, or keep it as part of your identity?",
        type: "choice",
        options: [
            { text: "Yes, if it improves my well-being or relationships.", score: 10 },
            { text: "No, my flaws are integral to my growth and self-acceptance.", score: 0 },
            { text: "Only if I’m sure it won’t have unintended consequences.", score: 7 },
            { text: "I’d consider it, but would want to thoroughly weigh the impact first.", score: 5 }
        ]
    },
    {
        text: "Suppose you’re given the option to shape your ideal future but with one condition: you’ll never receive recognition for any of your achievements or efforts. Do you accept this path?",
        type: "choice",
        options: [
            { text: "Yes, personal satisfaction is enough; recognition isn’t essential.", score: 10 },
            { text: "No, recognition is part of what gives meaning to success.", score: 0 },
            { text: "I’d accept it if I could find fulfillment independently of others.", score: 7 },
            { text: "I’d need to deeply consider whether impact alone is satisfying.", score: 5 }
        ]
    }
];

let currentQuestion = 0;
let scores = [];

function startQuiz() {
    document.getElementById('start-screen').classList.add('hidden');
    document.getElementById('question-screen').classList.remove('hidden');
    showQuestion();
}

function showQuestion() {
    const question = questions[currentQuestion];
    document.getElementById('question-text').textContent = question.text;
    
    // Update progress bar
    const progress = ((currentQuestion + 1) / questions.length) * 100;
    document.getElementById('progress-bar').style.width = `${progress}%`;

    const multipleChoice = document.getElementById('multiple-choice');
    const sliderContainer = document.getElementById('slider-container');

    if (question.type === 'choice') {
        multipleChoice.classList.remove('hidden');
        sliderContainer.classList.add('hidden');
        multipleChoice.innerHTML = question.options.map((option, index) => `
            <button 
                onclick="selectOption(${index})" 
                class="option-button w-full text-left p-4 rounded-lg border border-gray-200 hover:border-blue-500 hover:bg-blue-50"
            >
                ${option.text}
            </button>
        `).join('');
    } else if (question.type === 'slider') {
        multipleChoice.classList.add('hidden');
        sliderContainer.classList.remove('hidden');
        const slider = document.getElementById('slider');
        slider.value = 50;
        document.getElementById('slider-value').textContent = '50%';
        
        slider.oninput = function() {
            document.getElementById('slider-value').textContent = `${this.value}%`;
        };
    }
}

function selectOption(index) {
    const question = questions[currentQuestion];
    scores.push(question.options[index].score);
    nextQuestion();
}

function submitSlider() {
    const value = parseInt(document.getElementById('slider').value);
    scores.push((value / 100) * 10); // Convert slider value to 0-10 scale
    nextQuestion();
}

function nextQuestion() {
    if (currentQuestion === questions.length - 1) {
        showResults();
    } else {
        currentQuestion++;
        showQuestion();
    }
}

function showResults() {
    const totalScore = scores.reduce((a, b) => a + b, 0);
    const maxPossibleScore = questions.length * 10;
    const percentage = (totalScore / maxPossibleScore) * 100;

    let message;
    if (percentage >= 80) message = "High compatibility detected! Our philosophical wavelengths seem well-aligned.";
    else if (percentage >= 60) message = "Moderate alignment with interesting potential.";
    else message = "Our philosophical frameworks might have different optimization targets.";

    const resultsScreen = document.getElementById('results-screen');
    document.getElementById('question-screen').classList.add('hidden');
    resultsScreen.classList.remove('hidden');
    
    resultsScreen.innerHTML = `
        <div class="text-center">
            <h2 class="text-2xl font-bold mb-6">Philosophical Alignment Score</h2>
            <div class="text-5xl font-bold text-blue-500 mb-6">${percentage.toFixed(1)}%</div>
            <div class="w-full bg-gray-200 rounded-full h-4 mb-6">
                <div class="bg-blue-500 rounded-full h-4 transition-all duration-1000" style="width: ${percentage}%"></div>
            </div>
            <p class="text-lg mb-8">${message}</p>
            <button onclick="location.reload()" class="bg-gray-500 text-white py-2 px-6 rounded-lg hover:bg-gray-600">
                Retake Quiz
            </button>
        </div>
    `;
}

// Initialize slider value display
document.getElementById('slider')?.addEventListener('input', function() {
    document.getElementById('slider-value').textContent = `${this.value}%`;
});
</script>

</body>
</html>
